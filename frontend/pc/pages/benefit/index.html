<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>公共收益管理</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="assets/css/benefit.css">
</head>
<body>
    <!-- 主容器 -->
    <div class="container">
        <!-- 头部标签切换 -->
        <header class="page-header">
            <div class="header-tabs">
                <button class="tab-btn active" data-tab="data">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2" stroke="currentColor" stroke-width="2"/>
                        <path d="M9 12h6m-6 4h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span>公共收益</span>
                </button>
                <button class="tab-btn" data-tab="report">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 3v18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M18 17V9m-5 8V5m-5 12v-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span>报表生成</span>
                </button>
            </div>
        </header>

        <!-- 公共收益TAB内容 -->
        <div class="tab-content active" id="dataTab">
            <!-- 数据统计卡片 -->
            <section class="stats-section">
                <div class="stats-grid">
                    <div class="stat-card card-income">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">收入总额</div>
                            <div class="stat-value" id="totalIncome">¥0.00</div>
                            <div class="stat-change positive">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 19V5m0 0l-7 7m7-7l7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                <span id="incomeChange">+0%</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card card-expense">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16 3h5v5M4 20L21 3M21 16v5h-5M15 15l6 6M9 9l6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">支出总额</div>
                            <div class="stat-value" id="totalExpense">¥0.00</div>
                            <div class="stat-change negative">
                                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 5v14m0 0l7-7m-7 7l-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                <span id="expenseChange">+0%</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card card-balance">
                        <div class="stat-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                <path d="M12 6v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <div class="stat-label">当月结余</div>
                            <div class="stat-value" id="balance">¥0.00</div>
                            <div class="stat-progress">
                                <div class="progress-bar" id="balanceProgress"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 筛选和搜索 -->
            <section class="filter-section">
                <div class="filter-bar">
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-type="all">全部记录</button>
                        <button class="filter-tab" data-type="income">收入</button>
                        <button class="filter-tab" data-type="expense">支出</button>
                    </div>

                    <div class="search-box">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                            <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <input type="text" id="searchInput" class="search-input" placeholder="搜索类别、描述、金额...">
                        <button class="clear-search" id="clearSearch" style="display: none;">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </section>

            <!-- 数据列表 -->
            <section class="table-section">
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>编号</th>
                                <th>类型</th>
                                <th>类别</th>
                                <th>金额</th>
                                <th>日期</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- 数据动态加载 -->
                        </tbody>
                    </table>

                    <!-- 空状态 -->
                    <div class="empty-state" id="emptyState" style="display: none;">
                        <svg class="empty-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <h3>暂无数据</h3>
                        <p>没有找到符合条件的记录</p>
                    </div>
                </div>

                <!-- 分页 -->
                <div class="pagination" id="pagination">
                    <button class="page-btn" id="prevPage" disabled>
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <div class="page-numbers" id="pageNumbers"></div>
                    <button class="page-btn" id="nextPage">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
            </section>
        </div>

        <!-- 报表生成TAB内容 -->
        <div class="tab-content" id="reportTab">
            <!-- 报表筛选 -->
            <section class="report-filter">
                <div class="filter-card">
                    <label class="filter-label">报表周期</label>
                    <div class="period-buttons">
                        <button class="period-btn active" data-period="month">月度</button>
                        <button class="period-btn" data-period="quarter">季度</button>
                        <button class="period-btn" data-period="year">年度</button>
                    </div>
                </div>

                <div class="filter-card">
                    <label class="filter-label">选择时间</label>
                    <select class="time-select" id="timeSelect">
                        <!-- 动态生成选项 -->
                    </select>
                </div>

                <button class="btn-generate" id="generateBtn">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    生成报表
                </button>
            </section>

            <!-- 报表展示区域 -->
            <section class="report-display" id="reportDisplay" style="display: none;">
                <div class="report-header">
                    <h2 id="reportTitle">月度收支报表</h2>
                    <div class="report-actions">
                        <button class="btn-export">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            导出
                        </button>
                    </div>
                </div>

                <!-- 图表网格 -->
                <div class="charts-grid">
                    <!-- 收支饼图 -->
                    <div class="chart-card">
                        <h3 class="chart-title">收支分类占比</h3>
                        <div class="chart-wrapper">
                            <canvas id="pieChart"></canvas>
                        </div>
                    </div>

                    <!-- 趋势图 -->
                    <div class="chart-card full-width">
                        <h3 class="chart-title">收支趋势</h3>
                        <div class="chart-wrapper">
                            <canvas id="lineChart"></canvas>
                        </div>
                    </div>

                    <!-- 柱状图 -->
                    <div class="chart-card full-width">
                        <h3 class="chart-title">分类统计</h3>
                        <div class="chart-wrapper">
                            <canvas id="barChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- 数据摘要 -->
                <div class="report-summary">
                    <h3>数据摘要</h3>
                    <div class="summary-grid" id="summaryGrid">
                        <!-- 动态生成 -->
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- 详情模态框 -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h2>记录详情</h2>
                <button class="modal-close" id="modalClose">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
            <div class="modal-content" id="modalContent">
                <!-- 详情内容动态加载 -->
            </div>
        </div>
    </div>

    <!-- 加载动画 -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
        </div>
        <p>加载中...</p>
    </div>

    <script src="assets/js/benefit.js"></script>
</body>
</html>
