<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>公共收益 - 智慧服务平台</title>
    <link rel="stylesheet" href="assets/css/benefit.css">
</head>
<body>
    <!-- 头部导航 -->
    <header class="header">
        <button class="back-btn" onclick="goBack()">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
            </svg>
        </button>
        <div class="header-content">
            <h1>公共收益公示</h1>
            <p class="header-subtitle">数据公开透明 · 接受业主监督</p>
        </div>
        <div class="header-placeholder"></div>
    </header>

    <!-- 搜索栏 -->
    <div class="search-section">
        <div class="search-wrapper">
            <svg class="search-icon" viewBox="0 0 24 24">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
            <input type="text" id="searchInput" class="search-input" placeholder="搜索收支记录、类别、金额..." />
            <button class="clear-btn" id="clearBtn" onclick="clearSearch()">
                <svg viewBox="0 0 24 24">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- 数据概览卡片 -->
    <div class="overview-section">
        <div class="overview-card">
            <div class="overview-header">
                <div class="overview-title">
                    <svg class="overview-icon" viewBox="0 0 24 24">
                        <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                    </svg>
                    <span>本月收支概况</span>
                </div>
                <div class="overview-date" id="currentDate">2024年12月</div>
            </div>

            <div class="overview-stats">
                <div class="stat-item income-stat">
                    <div class="stat-label">收入总额</div>
                    <div class="stat-value" id="totalIncome">¥0.00</div>
                    <div class="stat-badge income-badge">
                        <svg viewBox="0 0 24 24">
                            <path d="M7 14l5-5 5 5z"/>
                        </svg>
                        <span id="incomeChange">+0%</span>
                    </div>
                </div>

                <div class="stat-divider"></div>

                <div class="stat-item expense-stat">
                    <div class="stat-label">支出总额</div>
                    <div class="stat-value" id="totalExpense">¥0.00</div>
                    <div class="stat-badge expense-badge">
                        <svg viewBox="0 0 24 24">
                            <path d="M7 10l5 5 5-5z"/>
                        </svg>
                        <span id="expenseChange">-0%</span>
                    </div>
                </div>

                <div class="stat-divider"></div>

                <div class="stat-item balance-stat">
                    <div class="stat-label">当月结余</div>
                    <div class="stat-value balance" id="balance">¥0.00</div>
                    <div class="stat-progress">
                        <div class="progress-bar" id="balanceProgress"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 筛选栏 -->
    <div class="filter-section">
        <div class="filter-tabs">
            <button class="filter-tab active" data-type="all">
                <span>全部记录</span>
            </button>
            <button class="filter-tab" data-type="income">
                <span>收入</span>
            </button>
            <button class="filter-tab" data-type="expense">
                <span>支出</span>
            </button>
        </div>
    </div>

    <!-- 记录列表 -->
    <div class="records-section">
        <div class="records-list" id="recordsList">
            <!-- 动态生成 -->
        </div>
    </div>

    <!-- 详情抽屉 -->
    <div class="drawer-overlay" id="drawerOverlay" onclick="closeDrawer()"></div>
    <div class="drawer" id="detailDrawer">
        <div class="drawer-header">
            <div class="drawer-handle"></div>
            <h3>收支详情</h3>
            <button class="drawer-close" onclick="closeDrawer()">
                <svg viewBox="0 0 24 24">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            </button>
        </div>
        <div class="drawer-content" id="drawerContent">
            <!-- 动态生成 -->
        </div>
    </div>

    <!-- 加载状态 -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
        </div>
        <p>加载中...</p>
    </div>

    <!-- 空状态 -->
    <div class="empty-state" id="emptyState">
        <svg class="empty-icon" viewBox="0 0 24 24">
            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z"/>
        </svg>
        <h3>暂无数据</h3>
        <p>未找到符合条件的收支记录</p>
    </div>

    <script src="assets/js/benefit.js"></script>
</body>
</html>
